<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="dash.css">
  <link href="https://fonts.googleapis.com/css2?family=Nunito:ital,wght@0,200..1000;1,200..1000&display=swap"
    rel="stylesheet">
  <script src="https://kit.fontawesome.com/aa58283320.js" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

  <title>Document</title>
</head>

<body>
  <div class="container">
    <!-- NAVBAR - DO TOPO -->
    <header class="header"> 
      <section>
        <a href="#" class="logo">
          <img class="logoImg" src="/Web-data-viz/public/img/logoWhite.png" alt="">
        </a>
        <a href="#">
          <i class="fa-solid fa-arrow-right-from-bracket icon"></i>
        </a>
      </section>
    </header>
    <!-- NAVBAR LATERAL -->
    <header class="headerLateral">
      <section>
        <div class="contentSection">
          <a href="#">
            <i class="fa-regular fa-house"></i>
          </a>
          <p>Dashboard</p>
        </div>
        <div class="contentSection">
          <a href="#">
            <img class="iconLine" src="/Web-data-viz/public/img/iconLine.png" alt="">
          </a>
          <p>Monitoramento</p>
        </div>
      </section>
    </header>

    <!-- Painel - Espaço onde vai ficar todas infrmações da Dashboard-->
    <div class="painel">
      <!-- Conteudo da Dashboard -->
      <div class="content">

        <div class="title">
          <p>Monitoramento - Salas Maternidade</p>
          <select name="Salas" class="optSalaMaternidade">Sala Maternidade
            <option value="1">Sala Maternidade 1</option>
            <option value="2">Sala Maternidade 2</option>
            <option value="3">Sala Maternidade 3</option>


          </select>    

        </div>

        <!-- Dividi em duas sessões sendo cima e baixo para fazer as outras divs -->
        <section class="sectionCima">
          <!-- Grafico de temperatura das encubadoras -->
          <div class="MonitoramentoEncubadora MonitoramentoAlerta">
            <canvas id="chartLinhaEncubadora" style="height:40vh; width:60vw"></canvas>
          </div>
          <!-- Contadores de alertas de hipotermia e hipertemia -->
          <div class="alertasCriticos">
            <div class="titleCritico">
              <p>Alertas de <br> temperatura crítica</p>
            </div>
            <div class="contentContador hipertemia ">
              <div class="iconeAtencao"> 
              <i class="fa-solid fa-triangle-exclamation"></i>
              </div>
              <p class="titulo">Hipotermia</p>
              <p class="contador">2</p>
            </div>
            <div class="hipotermia  contentContador  ">
              <p class="titulo">Febre</p>
              <p class="contador">0</p>
            </div>
        </section>
<!-- Segunda sessão  -->
        <section class="sectionBaixo">
          <div class="encubadoras">
            <div class="prematuros">
              <!-- Titulo central da div, tanto do grafico quanto contadores  -->
              <div class="tituloEncubadora">
                <p>Quantidade de bebes por grau de prematuridade</p>
              </div>
              <!-- lado esquedo-->
              <div class="infosGestacao">
                <div class="chart">
                  <canvas id="myChart" style="height:30vh; width:25vw"></canvas>
                </div>
                <!-- Lado direto dos contadores -->
                <div class="contadores">
                  <div class="contadores1E2">
                    <div class="contadorGestacao posTermo">
                      <p class="titulo">Pós-termo</p>
                      <p class="contador">2</p>
                    </div>


                    <div class="contadorGestacao tardio">
                      <p class="titulo">Tardio</p>
                      <p class="contador">2</p>
                    </div>
                  </div>
                  <div class="contadores1E2">
                    <div class="contadorGestacao moderado">
                      <p class="titulo">Moderado</p>
                      <p class="contador">3</p>
                    </div>


                    <div class="contadorGestacao extremo">
                      <p class="titulo">Extremo</p>
                      <p class="contador">10</p>
                    </div>
                  </div>
                </div>
              </div>
            </div>


          </div>


          <div class="MonitoramentoAlerta">
            <select name="Periodo" class="filtro">Sala Maternidade
              <option value="1">24h</option>
              <option value="2">Semanal</option>
              <option value="3">Mensal</option>
            </select>
            <canvas id="chartLinha" style="height:90vh; width:35vw"></canvas>

          </div>


      </div>
    </div>

    </section>
  </div>
  </div>
  </div>
</body>

<script>
  const ctx = document.getElementById('myChart');
  const ctx2 = document.getElementById('chartLinha')
  const ctx3 = document.getElementById('chartLinhaEncubadora')

  var labels = [];
  var hrs = ``
  var encubadoras = ''
  var labelsEncubadoras = []
  var j = 0;
  const titleText = 20
  const descText = 16

  /*Numerando labels dos 2 graficos i = ctx2 | j = ctx3 */
  for (var i = 0; i <= 32; i++) {
    j++;
    if (i <= 23) {
      hrs = `${labels}`
      hrs = (hrs).replaceAll(',', '');
      labels.push([`${i}h`]);


      encubadoras = `${labelsEncubadoras}`
      encubadoras = (encubadoras).replaceAll(',', '')
      labelsEncubadoras.push([`l ${j}`])

    }
  }


  // INFORMAÇÕES DO GRAFICO DE LINHA DOS ALERTAS SOBRE OS BEBES
  const dataLinha = {
    labels: labels,
    datasets: [
      {
        label: 'Moderado',
        data: [1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,1,1,1,0],
        weight: 'bold',
        borderWidth: 2,
        borderColor: '#1c3ab4',
        backgroundColor: '#1C3AB4',
      },
      {
        label: 'Pós-termo',
        data: [1,1,1,2,2,2,3,3,3,4,3,3,3,2,2,2,2,1,1,1,1,1,1,1,1],
        backgroundColor: '#C5B3FF',
        weight: 'bold',
        borderWidth: 2,
        borderColor: '#C5B3FF',

      },
            {
        label: 'Tardio',
        data: [4,5,6,4,4,4,5,6,7,7,7,7,6,6,6,6,5,5,5,5,5,4,4,4,4,3,3,3,3],
        backgroundColor: '#A5D8FF',
        weight: 'bold',
        borderWidth: 2,
        borderColor: '#A5D8FF',

      },
           {
        label: 'Extremo',
        data: [7, 8, 9, 8, 8, 9, 9, 9, 9, 7, 8, 8, 9,7, 6, 7,7, 8, 9, 8, 7, 8, 8],
        backgroundColor: '#F67E27',
        weight: 'bold',
        borderWidth: 2,
        borderColor: '#F67E27',

      }
    ]
  }



  new Chart(ctx, {
    type: 'pie',
    data: {
      labels: ['Pós-termo', 'Tardio', 'Moderado', 'Extremo'],
      datasets: [{
        label: 'Meus Dados',
        data: [30, 40, 20, 10],
        backgroundColor: [
          '#C5B3FF',
          '#A5D8FF',
          '#1C3AB4',
          '#F67E27',
        ],
      }]
    },
    options: {
      responsive: true,
      plugins: {
        legend: { /*Aqui onde fica o posicionamento do label */
          display: true,
          position: 'left',

          labels: { /*styles do label */
            padding: 25,
            boxWidth: 23,
            font: {
              size: 14,
            },
          },
          tooltip: {
            position: 'nearest',
          },
        },

      }
    }
  });





  // Grafico de Monitoramento de alertas classificados em (Moderado, Pós-termo, Tardio, Extremo)
  new Chart(ctx2, {
    type: 'line',
    data: dataLinha,
    

    options: {
      plugins: {
        title: { /*Titulo Principal */
          display: true,
          text: 'Monitoramentos dos alertas',
          position: 'top',
          align:'start',
          color:'#000',
          font: {
            weight: 'bold',
            size: titleText,

          },
        },

      },
      scales: {
        x: {
          title: { /* Titulo horizontal */
            display: true,
            text: 'Período',
            font: {
              size: titleText,
              weight: 'bold',
            },
          },
          grid: { /* Grade de fundo, aqui to falando para que não tenha linha horizontal */
            display: true,
            lineWidth: 0,
          },
        },
        y: {
          min: 0,/*Definindo valor minimo e maximo para eixo vertical () */
          max: 10,

          title: {/*Texto Vertical*/
            display: true,
            text: 'Quantidade de alertas',
            font:{
              size:descText,
            },
          },


        },


      }
    }


  });



  new Chart(ctx3, {
    type: 'bar',
    data: {
      labels: labelsEncubadoras,
      datasets: [{
        label: 'Monitoramento diario',
        data: [36.2, 36.5, 36.1, 36.3, 36.7, 36.2,
          36.8, 37.1, 36.4, 37.3, 36.9, 37.0,
          36.6, 37.2, 36.8, 37.4, 36.5, 36.9,
          37.1, 36.0, 36.3, 36.4, 36.2, 36.6,
          37.5, 36.7, 36.8, 37.0, 36.1, 36.9,
          37.4, 36.5, 37.2],
        borderWidth: 2,
        borderColor: '#C5B3FF',
        backgroundColor: '#C5B3FF',
        weight: 'bold'
      }],

    },

    options: {
      plugins: {
        title: {
          display: true,
          text: 'Monitoramento das incubadoras',
          position: 'top',
          align:'start',
          color:'#000',
          font: {
            weight: 'bold',
            size: titleText,

          },
        },

      },
      scales: {
        x: {
          title: {
            display: true,
            text: 'Incubadoras',
            font: {
              size: titleText,
              weight: 'bold'
            },
          },

          grid: {
            display: true,
            lineWidth: 0,
  
          },
        },
        y: {
          min: 35,
          max: 40,


          title: {
            display: true,
            text: 'Temperatura (Cº)',
            font: {
              weight: 'bold',
              size: descText
            },
          },


        },


      }
    }


  });


</script>

</html>